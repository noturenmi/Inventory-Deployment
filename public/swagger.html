<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Inventory API Documentation</title>
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/swagger-ui-dist@4.15.5/swagger-ui.css">
    <link rel="icon" type="image/png" href="https://unpkg.com/swagger-ui-dist@4.15.5/favicon-32x32.png">
    <style>
        html {
            box-sizing: border-box;
            overflow: -moz-scrollbars-vertical;
            overflow-y: scroll;
        }
        *, *:before, *:after {
            box-sizing: inherit;
        }
        body {
            margin: 0;
            background: #fafafa;
        }
        .swagger-ui .topbar {
            background-color: #1e1e1e;
            padding: 10px 0;
        }
        .swagger-ui .topbar .download-url-wrapper {
            display: none;
        }
        .swagger-ui .info {
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div id="swagger-ui"></div>
    <script src="https://unpkg.com/swagger-ui-dist@4.15.5/swagger-ui-bundle.js"></script>
    <script src="https://unpkg.com/swagger-ui-dist@4.15.5/swagger-ui-standalone-preset.js"></script>
    <script>
    window.onload = function() {
        // Define your API specification
        const spec = {
            "openapi": "3.0.0",
            "info": {
                "title": "Inventory Management API",
                "version": "1.0.0",
                "description": "í³¦ Complete REST API for managing inventory items and suppliers",
                "contact": {
                    "name": "API Support",
                    "email": "support@inventory-api.com"
                },
                "license": {
                    "name": "MIT",
                    "url": "https://opensource.org/licenses/MIT"
                }
            },
            "servers": [
                {
                    "url": "https://zentinels-inventory-deployment.vercel.app",
                    "description": "Production Server"
                },
                {
                    "url": "http://localhost:3000",
                    "description": "Local Development"
                }
            ],
            "tags": [
                {
                    "name": "Items",
                    "description": "Operations related to inventory items"
                },
                {
                    "name": "Suppliers",
                    "description": "Operations related to suppliers"
                },
                {
                    "name": "Reports",
                    "description": "Inventory reports and analytics"
                }
            ],
            "paths": {
                "/": {
                    "get": {
                        "summary": "API Root",
                        "description": "Get API information and available endpoints",
                        "responses": {
                            "200": {
                                "description": "API information",
                                "content": {
                                    "application/json": {
                                        "example": {
                                            "message": "í³¦ Inventory API is running!",
                                            "endpoints": {
                                                "items": "/api/v1/items",
                                                "suppliers": "/api/v1/suppliers",
                                                "categories": "/api/v1/categories",
                                                "reports": "/api/v1/reports/inventory"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "/health": {
                    "get": {
                        "summary": "Health Check",
                        "responses": {
                            "200": {
                                "description": "API is healthy",
                                "content": {
                                    "application/json": {
                                        "example": {
                                            "status": "OK",
                                            "timestamp": "2024-01-15T10:30:00Z"
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "/api/v1/items": {
                    "get": {
                        "tags": ["Items"],
                        "summary": "Get all items",
                        "responses": {
                            "200": {
                                "description": "List of items",
                                "content": {
                                    "application/json": {
                                        "example": {
                                            "success": true,
                                            "count": 2,
                                            "data": [
                                                {
                                                    "_id": "64f8a1b2c9d3e7f5a2b1c3d4",
                                                    "name": "Laptop",
                                                    "category": "Electronics",
                                                    "stock": 10,
                                                    "price": 999.99,
                                                    "supplier": "supplier_id",
                                                    "createdAt": "2024-01-15T10:30:00Z"
                                                }
                                            ]
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "post": {
                        "tags": ["Items"],
                        "summary": "Create new item",
                        "requestBody": {
                            "required": true,
                            "content": {
                                "application/json": {
                                    "schema": {
                                        "type": "object",
                                        "required": ["name", "category", "stock", "price", "supplier"],
                                        "properties": {
                                            "name": { "type": "string", "example": "Laptop" },
                                            "category": { "type": "string", "example": "Electronics" },
                                            "stock": { "type": "integer", "example": 10 },
                                            "price": { "type": "number", "example": 999.99 },
                                            "supplier": { "type": "string", "example": "supplier_id" },
                                            "description": { "type": "string", "example": "High-performance laptop" }
                                        }
                                    },
                                    "example": {
                                        "name": "Laptop",
                                        "category": "Electronics",
                                        "stock": 10,
                                        "price": 999.99,
                                        "supplier": "supplier_id",
                                        "description": "High-performance laptop"
                                    }
                                }
                            }
                        },
                        "responses": {
                            "201": {
                                "description": "Item created",
                                "content": {
                                    "application/json": {
                                        "example": {
                                            "success": true,
                                            "data": {
                                                "_id": "64f8a1b2c9d3e7f5a2b1c3d4",
                                                "name": "Laptop",
                                                "category": "Electronics",
                                                "stock": 10,
                                                "price": 999.99,
                                                "supplier": "supplier_id",
                                                "description": "High-performance laptop",
                                                "createdAt": "2024-01-15T10:30:00Z"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "/api/v1/items/{id}": {
                    "get": {
                        "tags": ["Items"],
                        "summary": "Get item by ID",
                        "parameters": [
                            {
                                "name": "id",
                                "in": "path",
                                "required": true,
                                "schema": { "type": "string" }
                            }
                        ],
                        "responses": {
                            "200": { "description": "Item found" },
                            "404": { "description": "Item not found" }
                        }
                    },
                    "put": {
                        "tags": ["Items"],
                        "summary": "Update item",
                        "parameters": [
                            {
                                "name": "id",
                                "in": "path",
                                "required": true,
                                "schema": { "type": "string" }
                            }
                        ],
                        "requestBody": {
                            "required": true,
                            "content": {
                                "application/json": {
                                    "example": {
                                        "name": "Updated Laptop",
                                        "stock": 15,
                                        "price": 1099.99
                                    }
                                }
                            }
                        },
                        "responses": {
                            "200": { "description": "Item updated" }
                        }
                    },
                    "delete": {
                        "tags": ["Items"],
                        "summary": "Delete item",
                        "parameters": [
                            {
                                "name": "id",
                                "in": "path",
                                "required": true,
                                "schema": { "type": "string" }
                            }
                        ],
                        "responses": {
                            "200": { "description": "Item deleted" }
                        }
                    }
                },
                "/api/v1/suppliers": {
                    "get": {
                        "tags": ["Suppliers"],
                        "summary": "Get all suppliers",
                        "responses": {
                            "200": {
                                "description": "List of suppliers",
                                "content": {
                                    "application/json": {
                                        "example": {
                                            "success": true,
                                            "count": 1,
                                            "data": [
                                                {
                                                    "_id": "64f8a1b2c9d3e7f5a2b1c3d5",
                                                    "name": "Tech Supplies Inc.",
                                                    "contact": "John Doe",
                                                    "email": "contact@tech.com",
                                                    "createdAt": "2024-01-15T09:00:00Z"
                                                }
                                            ]
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "post": {
                        "tags": ["Suppliers"],
                        "summary": "Create supplier",
                        "requestBody": {
                            "required": true,
                            "content": {
                                "application/json": {
                                    "example": {
                                        "name": "Tech Supplies Inc.",
                                        "contact": "John Doe",
                                        "email": "contact@tech.com"
                                    }
                                }
                            }
                        },
                        "responses": {
                            "201": { "description": "Supplier created" }
                        }
                    }
                },
                "/api/v1/categories": {
                    "get": {
                        "tags": ["Items"],
                        "summary": "Get all categories",
                        "responses": {
                            "200": {
                                "description": "List of categories",
                                "content": {
                                    "application/json": {
                                        "example": {
                                            "success": true,
                                            "data": ["Electronics", "Clothing", "Food", "Books", "General", "Office Supplies"]
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "/api/v1/reports/inventory": {
                    "get": {
                        "tags": ["Reports"],
                        "summary": "Get inventory report",
                        "responses": {
                            "200": {
                                "description": "Inventory report",
                                "content": {
                                    "application/json": {
                                        "example": {
                                            "success": true,
                                            "data": {
                                                "summary": {
                                                    "totalItems": 10,
                                                    "totalStock": 150,
                                                    "totalValue": 25000.50
                                                },
                                                "lowStock": [
                                                    {
                                                        "id": "64f8a1b2c9d3e7f5a2b1c3d4",
                                                        "name": "Laptop",
                                                        "stock": 2
                                                    }
                                                ]
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "components": {
                "schemas": {
                    "Item": {
                        "type": "object",
                        "properties": {
                            "_id": { "type": "string" },
                            "name": { "type": "string" },
                            "category": { "type": "string" },
                            "stock": { "type": "integer" },
                            "price": { "type": "number" },
                            "supplier": { "type": "string" },
                            "description": { "type": "string" },
                            "createdAt": { "type": "string", "format": "date-time" }
                        }
                    },
                    "Supplier": {
                        "type": "object",
                        "properties": {
                            "_id": { "type": "string" },
                            "name": { "type": "string" },
                            "contact": { "type": "string" },
                            "email": { "type": "string", "format": "email" },
                            "createdAt": { "type": "string", "format": "date-time" }
                        }
                    }
                }
            }
        };
        
        // Initialize Swagger UI
        const ui = SwaggerUIBundle({
            spec: spec,
            dom_id: '#swagger-ui',
            deepLinking: true,
            presets: [
                SwaggerUIBundle.presets.apis,
                SwaggerUIStandalonePreset
            ],
            plugins: [
                SwaggerUIBundle.plugins.DownloadUrl
            ],
            layout: "StandaloneLayout",
            validatorUrl: null,
            displayRequestDuration: true,
            docExpansion: 'list'
        });
        
        window.ui = ui;
    };
    </script>
</body>
</html>
