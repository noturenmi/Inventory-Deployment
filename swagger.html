<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Inventory API Documentation</title>
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/swagger-ui-dist@5.9.0/swagger-ui.css">
    <style>
        html {
            box-sizing: border-box;
            overflow: -moz-scrollbars-vertical;
            overflow-y: scroll;
        }
        *, *:before, *:after {
            box-sizing: inherit;
        }
        body {
            margin: 0;
            background: #fafafa;
        }
        .swagger-ui .topbar {
            display: none;
        }
        #loading {
            text-align: center;
            padding: 50px;
            font-size: 18px;
        }
    </style>
</head>
<body>
    <div id="loading">Loading API Documentation...</div>
    <div id="swagger-ui" style="display: none;"></div>
    
    <script src="https://unpkg.com/swagger-ui-dist@5.9.0/swagger-ui-bundle.js"></script>
    <script src="https://unpkg.com/swagger-ui-dist@5.9.0/swagger-ui-standalone-preset.js"></script>
    <script>
    window.onload = function() {
        // Hide loading, show Swagger UI
        document.getElementById('loading').style.display = 'none';
        document.getElementById('swagger-ui').style.display = 'block';
        
        // Define your API specification directly
        const spec = {
            openapi: "3.0.0",
            info: {
                title: "Inventory Management API",
                version: "1.0.0",
                description: "í³¦ Complete REST API for managing inventory items and suppliers"
            },
            servers: [
                {
                    url: "http://localhost:3000",
                    description: "Local Development Server"
                },
                {
                    url: "https://zentinels-inventory-deployment.vercel.app",
                    description: "Production Server"
                }
            ],
            tags: [
                {
                    name: "Items",
                    description: "Operations related to inventory items"
                },
                {
                    name: "Suppliers",
                    description: "Operations related to suppliers"
                },
                {
                    name: "Categories",
                    description: "Item category management"
                },
                {
                    name: "Reports",
                    description: "Inventory reports and analytics"
                }
            ],
            paths: {
                "/": {
                    get: {
                        summary: "Get API Information",
                        description: "Returns API information and available endpoints",
                        responses: {
                            "200": {
                                description: "API information retrieved successfully"
                            }
                        }
                    }
                },
                "/health": {
                    get: {
                        summary: "Health Check",
                        description: "Check API health status",
                        responses: {
                            "200": {
                                description: "API is healthy"
                            }
                        }
                    }
                },
                "/api/v1/items": {
                    get: {
                        tags: ["Items"],
                        summary: "Get all items",
                        description: "Retrieve a list of all inventory items",
                        responses: {
                            "200": {
                                description: "List of items retrieved successfully",
                                content: {
                                    "application/json": {
                                        example: {
                                            success: true,
                                            count: 0,
                                            data: []
                                        }
                                    }
                                }
                            }
                        }
                    },
                    post: {
                        tags: ["Items"],
                        summary: "Create new item",
                        description: "Add a new item to the inventory",
                        requestBody: {
                            required: true,
                            content: {
                                "application/json": {
                                    schema: {
                                        type: "object",
                                        required: ["name", "category", "stock", "price", "supplier"],
                                        properties: {
                                            name: { type: "string", example: "Laptop" },
                                            category: { type: "string", example: "Electronics" },
                                            stock: { type: "integer", example: 10 },
                                            price: { type: "number", example: 999.99 },
                                            supplier: { type: "string", example: "supplier_id" },
                                            description: { type: "string", example: "High-performance laptop" }
                                        }
                                    },
                                    example: {
                                        name: "Laptop",
                                        category: "Electronics",
                                        stock: 10,
                                        price: 999.99,
                                        supplier: "supplier_id",
                                        description: "High-performance laptop"
                                    }
                                }
                            }
                        },
                        responses: {
                            "201": {
                                description: "Item created successfully"
                            }
                        }
                    }
                },
                "/api/v1/items/{id}": {
                    get: {
                        tags: ["Items"],
                        summary: "Get item by ID",
                        description: "Retrieve a specific item by its ID",
                        parameters: [
                            {
                                name: "id",
                                in: "path",
                                required: true,
                                schema: { type: "string" }
                            }
                        ],
                        responses: {
                            "200": {
                                description: "Item found"
                            },
                            "404": {
                                description: "Item not found"
                            }
                        }
                    }
                },
                "/api/v1/suppliers": {
                    get: {
                        tags: ["Suppliers"],
                        summary: "Get all suppliers",
                        description: "Retrieve a list of all suppliers",
                        responses: {
                            "200": {
                                description: "List of suppliers retrieved successfully"
                            }
                        }
                    },
                    post: {
                        tags: ["Suppliers"],
                        summary: "Create new supplier",
                        description: "Add a new supplier to the system",
                        requestBody: {
                            required: true,
                            content: {
                                "application/json": {
                                    example: {
                                        name: "Tech Supplies Inc.",
                                        contact: "John Doe",
                                        email: "contact@tech.com"
                                    }
                                }
                            }
                        },
                        responses: {
                            "201": {
                                description: "Supplier created successfully"
                            }
                        }
                    }
                },
                "/api/v1/categories": {
                    get: {
                        tags: ["Categories"],
                        summary: "Get all categories",
                        description: "Retrieve a list of all item categories",
                        responses: {
                            "200": {
                                description: "List of categories retrieved successfully"
                            }
                        }
                    }
                },
                "/api/v1/reports/inventory": {
                    get: {
                        tags: ["Reports"],
                        summary: "Get inventory report",
                        description: "Generate comprehensive inventory analytics",
                        responses: {
                            "200": {
                                description: "Inventory report generated successfully"
                            }
                        }
                    }
                }
            }
        };
        
        // Initialize Swagger UI
        const ui = SwaggerUIBundle({
            spec: spec,
            dom_id: '#swagger-ui',
            deepLinking: true,
            presets: [
                SwaggerUIBundle.presets.apis,
                SwaggerUIStandalonePreset
            ],
            plugins: [
                SwaggerUIBundle.plugins.DownloadUrl
            ],
            layout: "StandaloneLayout",
            validatorUrl: null
        });
        
        window.ui = ui;
    };
    </script>
</body>
</html>
